<!DOCTYPE HTML>
<html lang="en" class="coal" dir="ltr">
  <head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <meta name="robots" content="noindex">
    <title>Tagging and Encryption - User Guide for Sparky</title>


    <!-- Custom HTML head -->
    
    <meta name="description" content="This user guide is designed to help you understand the basics of operating, interacting with, and using Sparky. These docs are maintained by Sparky himself.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff">

    <meta name="og:title" content="Tagging and Encryption - User Guide for Sparky">
    <meta name="og:description" content="This user guide is designed to help you understand the basics of operating, interacting with, and using Sparky. These docs are maintained by Sparky himself.">

    <link rel="icon" href="../favicon.svg">

    <link rel="shortcut icon" href="../favicon.png">

    <!-- Normalize.css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/modern-normalize@3.0.0/modern-normalize.min.css">

    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/general.css">
    <link rel="stylesheet" href="../css/chrome.css">

    <link rel="stylesheet" href="../css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200..900&family=Reddit+Sans:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

    <link rel="stylesheet" href="../fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../highlight.css">
    <link rel="stylesheet" href="../tomorrow-night.css">
    <link rel="stylesheet" href="../ayu-highlight.css">

    <!-- Custom theme stylesheets -->
    <link rel="stylesheet" href="../theme/mdbook-admonish.css">
    <link rel="stylesheet" href="../theme/dist/styles.css">
  </head>
  <body class="sidebar-visible no-js">
  <div id="body-container">
    <!-- Provide site root to javascript -->
    <script>
      var path_to_root = "../";
      var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "coal";
    </script>

    <!-- Work around some values being stored in localStorage wrapped in quotes -->
    <script>
      try {
        var theme = localStorage.getItem('mdbook-theme');
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (theme.startsWith('"') && theme.endsWith('"')) {
          localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
        }

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
          localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
      } catch (e) { }
    </script>

    <!-- Set the theme before any content is loaded, prevents flash -->
    <script>
      var theme;
      try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
      if (theme === null || theme === undefined) { theme = default_theme; }
      var html = document.querySelector('html');
      html.classList.remove('coal')
      html.classList.add(theme);
      var body = document.querySelector('body');
      body.classList.remove('no-js')
      body.classList.add('js');
    </script>

    <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

    <script>
      (function() {
        let body = document.querySelector('body');
        let sidebar = null;
        let sidebar_toggle = document.getElementById("sidebar-toggle-anchor");

        function updateSidebar() {
          sidebar = document.body.clientWidth >= 1080 ? 'visible' : 'hidden';
          sidebar_toggle.checked = sidebar === 'visible';
          body.classList.remove('sidebar-visible');
          body.classList.remove('sidebar-hidden');
          body.classList.add("sidebar-" + sidebar);
          body.classList.toggle("sidebar-collapsible", sidebar == 'hidden')
        }

        updateSidebar();
        window.addEventListener('resize', updateSidebar);
      })()
    </script>

    <nav id="sidebar" class="sidebar" aria-label="Table of contents">
      <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item affix "><a href="../index.html">Introduction</a></li><li class="chapter-item affix "><li class="part-title">Interacting</li><li class="chapter-item "><a href="../interacting/caring.html"><strong aria-hidden="true">1.</strong> Caring</a></li><li class="chapter-item "><a href="../interacting/trusting.html"><strong aria-hidden="true">2.</strong> Trusting</a></li><li class="chapter-item "><a href="../interacting/communicating.html"><strong aria-hidden="true">3.</strong> Communicating</a></li><li class="chapter-item affix "><li class="part-title">Personal</li><li class="chapter-item "><a href="../personal/hobbies.html"><strong aria-hidden="true">4.</strong> Hobbies</a></li><li class="chapter-item "><a href="../personal/preferences.html"><strong aria-hidden="true">5.</strong> Preferences</a></li><li class="chapter-item "><a href="../personal/boundaries.html"><strong aria-hidden="true">6.</strong> Triggers & Boundaries</a></li><li class="chapter-item affix "><li class="part-title">Reference</li><li class="chapter-item "><a href="../reference/quick-facts.html"><strong aria-hidden="true">7.</strong> Quick Facts</a></li><li class="chapter-item "><a href="../reference/faq.html"><strong aria-hidden="true">8.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../reference/tagging-encryption.html" class="active"><strong aria-hidden="true">9.</strong> Tagging and Encryption</a></li><li class="chapter-item "><a href="../reference/emergency.html"><strong aria-hidden="true">10.</strong> Emergency Contacts</a></li></ol>
      </div>
      <div id="sidebar-resize-handle" class="sidebar-resize-handle">
        <div class="sidebar-resize-indicator"></div>
      </div>
    </nav>

    <!-- Track and set sidebar scroll position -->
    <script>
      var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
      sidebarScrollbox.addEventListener('click', function(e) {
        if (e.target.tagName === 'A') {
          sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
        }
      }, { passive: true });

      var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
      sessionStorage.removeItem('sidebar-scroll');
      if (sidebarScrollTop) {
        // preserve sidebar scroll position when navigating via links within sidebar
        sidebarScrollbox.scrollTop = sidebarScrollTop;
      } else {
        // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
        var activeSection = document.querySelector('#sidebar .active');
        if (activeSection) {
          activeSection.scrollIntoView({ block: 'center' });
        }
      }
    </script>

    <dialog id="content-alert" open>
      <div class="warning">
        <p class="title"><strong>Warning</strong>:</p>
        <p>This guide contains sensitive information about Sparky that may be considered
        mature, explicit, or triggering. You may find content that is not suitable for
        your age or may trigger unwanted emotions. <strong>Please proceed with caution.</strong></p>
        <p><strong>Consent is important.</strong> If you are unsure about something, it is always best
        to ask Sparky directly.</p>
        <p><strong>Trigger warning</strong>: sexually explicit content, mental health issues,
        dubious consent, and more.</p>
        <p class="require-javascript">By continuing, you acknowledge that you have read and understood this warning.</p>

        <noscript>
          <hr>

          <strong>JavaScript is disabled in your browser.</strong>
          <p>This book contains interactive content that requires JavaScript to
          function properly. Unfortunately, you will not be able to view this content
          without enabling JavaScript.</p>
        </noscript>
      </div>

      <footer class="require-javascript">
        <button id="content-alert-back" class="primary-button" title="Go back" aria-label="Go back" onclick="respondContentAlert(false)">
          <i class="fa fa-arrow-left"></i>
          <span>Go back</span>
        </button>
        <button id="content-alert-continue" title="Continue" aria-label="Continue" onclick="respondContentAlert(true)">
          <span>Continue</span>
          <span id="content-alert-countdown"></span>
          <i class="fa fa-arrow-right"></i>
        </button>
      </footer>
    </dialog>

    <div id="page-wrapper" class="page-wrapper">

      <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky">
          <div class="left-buttons">
            <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
              <i class="fa fa-bars"></i>
            </label>
            <a role="button" href="../" title="Home" aria-label="Home">
              <i class="fa fa-home"></i>
            </a>
          </div>

          <div class="center menu-title"></div>

          <div class="right-buttons">
            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
              <i class="fa fa-paint-brush"></i>
            </button>
            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
              <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
              <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
              <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
              <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
              <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
            </ul>
            <a href="https://github.com/sparkyfen/docs.sparky.pet" title="Git repository" aria-label="Git repository">
              <i id="git-repository-button" class="fa fa-github"></i>
            </a>
          </div>
        </div>

        <div id="shadow-overlay"></div>

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script>
          document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
          document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
          Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
            link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
          });
        </script>

        <div id="content" class="content">
          <main>
            <aside class="toc">
              <nav class="pagetoc"></nav>
            </aside>
            <div class="content-wrap">
              <h1 id="tagging-and-encryption"><a class="header" href="#tagging-and-encryption">Tagging and Encryption</a></h1>
<p>Some content in this documentation is encrypted for privacy and security. This page explains how the encryption system works.</p>
<h2 id="what-is-encrypted"><a class="header" href="#what-is-encrypted">What is Encrypted?</a></h2>
<p>Certain sensitive information, such as emergency contacts, medical information, and other private details, are encrypted to protect <span class="namevar" data-namevar="identifier">Sparky</span>’s privacy.</p>
<h2 id="how-encryption-works"><a class="header" href="#how-encryption-works">How Encryption Works</a></h2>
<p>This documentation uses a two-layer encryption approach:</p>
<ol>
<li>
<p><strong>Version Control Encryption (SOPS)</strong>: Files are encrypted with <a href="https://github.com/getsops/sops">SOPS</a> using <a href="https://age-encryption.org/">age</a> encryption for secure storage in the git repository.</p>
</li>
<li>
<p><strong>Browser Encryption (AES-GCM)</strong>: During the build process, the content is re-encrypted using AES-GCM encryption so it can be decrypted in your browser with the right key.</p>
</li>
</ol>
<h2 id="how-to-access-encrypted-content"><a class="header" href="#how-to-access-encrypted-content">How to Access Encrypted Content</a></h2>
<p>To view encrypted content, you need the encryption key. If you’ve been given the key:</p>
<ol>
<li>
<p><strong>URL Parameter</strong>: Add <code>?key=YOUR_KEY_HERE</code> to the URL of any page</p>
<ul>
<li>Example: <code>https://docs.sparky.pet/reference/emergency.html?key=YOUR_KEY_HERE</code></li>
</ul>
</li>
<li>
<p><strong>Session Storage</strong>: Once you’ve accessed a page with the key parameter, it’s stored in your browser’s session storage and will work for all encrypted content during that session.</p>
</li>
</ol>
<h2 id="security-notes"><a class="header" href="#security-notes">Security Notes</a></h2>
<ul>
<li>The encryption key is stored in your browser’s session storage (not persisted across browser restarts)</li>
<li>All decryption happens client-side in your browser</li>
<li>The decryption key is never sent to any server</li>
<li>If you don’t have the key, you cannot access the encrypted content</li>
</ul>
<h2 id="getting-access"><a class="header" href="#getting-access">Getting Access</a></h2>
<p>If you need access to encrypted content (such as in an emergency situation), please contact <span class="namevar" data-namevar="identifier">Sparky</span> through available communication channels.</p>

            </div>
          </main>

          <nav class="nav-wrapper" aria-label="Page navigation">
            <!-- Mobile navigation buttons -->
              <a rel="prev" href="../reference/faq.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
              </a>

              <a rel="next prefetch" href="../reference/emergency.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
              </a>

            <div style="clear: both"></div>
          </nav>
        </div>
      </div>

      <nav class="nav-wide-wrapper" aria-label="Page navigation">
          <a rel="prev" href="../reference/faq.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
            <i class="fa fa-angle-left"></i>
          </a>

          <a rel="next prefetch" href="../reference/emergency.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
            <i class="fa fa-angle-right"></i>
          </a>
      </nav>

    </div>

    <!-- Livereload script (if served using the cli tool) -->
    <script>
      const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
      const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
      const socket = new WebSocket(wsAddress);
      socket.onmessage = function (event) {
        if (event.data === "reload") {
          socket.close();
          location.reload();
        }
      };

      window.onbeforeunload = function() {
        socket.close();
      }
    </script>

    <!--
    <script src="../elasticlunr.min.js"></script>
    <script src="../mark.min.js"></script>
    <script src="../searcher.js"></script>
    -->

    <script src="../clipboard.min.js"></script>
    <script src="../highlight.js"></script>
    <script src="../book.js"></script>

    <!-- Custom JS scripts -->
    <script src="../scripts/dist/index.js"></script>
    <script src="../scripts/dist/index.js.map"></script>
    <script src="../scripts/dist/subsectionindex.json"></script>


  </div>
  </body>
</html>
